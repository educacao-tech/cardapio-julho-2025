<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cardápio Julho 2025</title>
    <!-- Link para o arquivo CSS externo. No Google Sites, este arquivo precisaria estar hospedado publicamente. -->
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

    <div class="main-container">
        <p class="back-link">
            <!-- Texto alterado para remover a seta, que será adicionada via CSS -->
            <a href="https://sites.google.com/educacao.batatais.sp.gov.br/seceduc/in%c3%adcio">Voltar para a Página Principal.</a>
        </p>
        <h1>Cardápio Julho 2025</h1>

        <div class="legend-container">
            <p>Filtrar Cardápios por Instituição:</p>
            <span class="legend-item" style="background-color: #2ecc71;" data-filter="creche-m-verde" role="button" tabindex="0" aria-label="Filtrar por Creche M. Verde">CRECHE M.VERDE</span>
            <span class="legend-item" style="background-color: #f39c12;" data-filter="creches" role="button" tabindex="0" aria-label="Filtrar por Outras Creches">CRECHES</span>
            <span class="legend-item" style="background-color: #3498db;" data-filter="fundamental" role="button" tabindex="0" aria-label="Filtrar por Escolas Fundamentais">Fundamental</span>
            <span class="legend-item" style="background-color: #9b59b6;" data-filter="etec" role="button" tabindex="0" aria-label="Filtrar por ETEC">ETEC</span>
            <button class="show-all-button">Mostrar Todos</button>
            <div id="filter-message" style="text-align: center;"></div>
        </div>

        <div class="columns-container">
            <div class="button-column" id="semana1">
                <h2 class="column-title">1ª SEM - 01 a 04 JULHO</h2>
                <a href="#" class="button creche-m-verde" data-week="semana1" data-type="creche-m-verde" aria-label="Ver cardápio da Creche M. Verde para a 1ª Semana de Julho">CRECHE M.VERDE</a>
                <a href="#" class="button creches" data-week="semana1" data-type="creches" aria-label="Ver cardápio das Creches para a 1ª Semana de Julho">CRECHES</a>
                <a href="#" class="button fundamental" data-week="semana1" data-type="fundamental-grupo1" title="Escolas Fundamentais: Braga, Caic, Célia, Alzira, Padre" aria-label="Ver cardápio Fundamental para Braga, Caic, Célia, Alzira, Padre na 1ª Semana de Julho">BRAGA, CAIC, CÉLIA, ALZIRA, PADRE</a>
                <a href="#" class="button fundamental" data-week="semana1" data-type="fundamental-grupo2" title="Escolas Fundamentais: Anna, Anselmo, M. Ap., Faggioni, Braguetto" aria-label="Ver cardápio Fundamental para Anna, Anselmo, M. Ap., Faggioni, Braguetto na 1ª Semana de Julho">ANNA, ANSELMO, M.AP., FAGGIONI, BRAGUETTO</a>
                <a href="#" class="button fundamental" data-week="semana1" data-type="fundamental-grupo3" title="Escolas Fundamentais: A. Augusto, Portinari, M. Virgínia" aria-label="Ver cardápio Fundamental para A. Augusto, Portinari, M. Virgínia na 1ª Semana de Julho">A.AUGUSTO, PORTINARI, M.VIRGÍNIA</a>
                <a href="#" class="button fundamental" data-week="semana1" data-type="fundamental-esther" title="Escola Fundamental: Esther Vianna" aria-label="Ver cardápio Fundamental para Esther Vianna na 1ª Semana de Julho">ESTHER VIANNA</a>
                <a href="#" class="button fundamental" data-week="semana1" data-type="fundamental-grupo4" title="Escolas Fundamentais: GTL, EESA, Castelo, Washington" aria-label="Ver cardápio Fundamental para GTL, EESA, CASTELO, WASHINGTON na 1ª Semana de Julho">GTL, EESA, CASTELO, WASHINGTON</a>
                <a href="#" class="button etec" data-week="semana1" data-type="etec" title="Cardápio ETEC - Paula Souza" aria-label="Ver cardápio da ETEC - Paula Souza para a 1ª Semana de Julho">ETEC - PAULA SOUZA</a>
            </div>

            <div class="button-column" id="semana2">
                <h2 class="column-title">2ª SEM - 07 a 11 JULHO</h2>
                <a href="#" class="button creche-m-verde" data-week="semana2" data-type="creche-m-verde" aria-label="Ver cardápio da Creche M. Verde para a 2ª Semana de Julho">CRECHE M.VERDE</a>
                <a href="#" class="button creches" data-week="semana2" data-type="creches" aria-label="Ver cardápio das Creches para a 2ª Semana de Julho">CRECHES</a>
                <a href="#" class="button fundamental" data-week="semana2" data-type="fundamental-grupo1" title="Escolas Fundamentais: Braga, Caic, Célia, Alzira, Padre" aria-label="Ver cardápio Fundamental para Braga, Caic, Célia, Alzira, Padre na 2ª Semana de Julho">BRAGA, CAIC, CÉLIA, ALZIRA, PADRE</a>
                <a href="#" class="button fundamental" data-week="semana2" data-type="fundamental-grupo2" title="Escolas Fundamentais: Anna, Anselmo, M. Ap., Faggioni, Braguetto" aria-label="Ver cardápio Fundamental para Anna, Anselmo, M. Ap., Faggioni, Braguetto na 2ª Semana de Julho">ANNA, ANSELMO, M.AP., FAGGIONI, BRAGUETTO</a>
                <a href="#" class="button fundamental" data-week="semana2" data-type="fundamental-grupo3" title="Escolas Fundamentais: A. Augusto, Portinari, M. Virgínia" aria-label="Ver cardápio Fundamental para A. Augusto, Portinari, M. Virgínia na 2ª Semana de Julho">A.AUGUSTO, PORTINARI, M.VIRGÍNIA</a>
                <a href="#" class="button fundamental" data-week="semana2" data-type="fundamental-esther" title="Escola Fundamental: Esther Vianna" aria-label="Ver cardápio Fundamental para Esther Vianna na 2ª Semana de Julho">ESTHER VIANNA</a>
                <a href="#" class="button fundamental" data-week="semana2" data-type="fundamental-grupo4" title="Escolas Fundamentais: GTL, EESA, Castelo, Washington" aria-label="Ver cardápio Fundamental para GTL, EESA, Castelo, Washington na 2ª Semana de Julho">GTL, EESA, CASTELO, WASHINGTON</a>
                <a href="#" class="button etec" data-week="semana2" data-type="etec" title="Cardápio ETEC - Paula Souza" aria-label="Ver cardápio da ETEC - Paula Souza para a 2ª Semana de Julho">ETEC - PAULA SOUZA</a>
            </div>

            <div class="button-column" id="semana3">
                <h2 class="column-title">3ª SEM - 14 a 18 JULHO</h2>
                <a href="#" class="button creche-m-verde" data-week="semana3" data-type="creche-m-verde" aria-label="Ver cardápio da Creche M. Verde para a 3ª Semana de Julho">CRECHE M.VERDE</a>
                <a href="#" class="button creches" data-week="semana3" data-type="creches" aria-label="Ver cardápio das Creches para a 3ª Semana de Julho">CRECHES</a>
                <a href="#" class="button fundamental" data-week="semana3" data-type="fundamental-grupo1" title="Escolas Fundamentais: Braga, Caic, Célia, Alzira, Padre" aria-label="Ver cardápio Fundamental para Braga, Caic, Célia, Alzira, Padre na 3ª Semana de Julho">BRAGA, CAIC, CÉLIA, ALZIRA, PADRE</a>
                <a href="#" class="button fundamental" data-week="semana3" data-type="fundamental-grupo2" title="Escolas Fundamentais: Anna, Anselmo, M. Ap., Faggioni, Braguetto" aria-label="Ver cardápio Fundamental para Anna, Anselmo, M. Ap., Faggioni, Braguetto na 3ª Semana de Julho">ANNA, ANSELMO, M.AP., FAGGIONI, BRAGUETTO</a>
                <a href="#" class="button fundamental" data-week="semana3" data-type="fundamental-grupo3" title="Escolas Fundamentais: A. Augusto, Portinari, M. Virgínia" aria-label="Ver cardápio Fundamental para A. Augusto, Portinari, M. Virgínia na 3ª Semana de Julho">A.AUGUSTO, PORTINARI, M.VIRGÍNIA</a>
                <a href="#" class="button fundamental" data-week="semana3" data-type="fundamental-esther" title="Escola Fundamental: Esther Vianna" aria-label="Ver cardápio Fundamental para Esther Vianna na 3ª Semana de Julho">ESTHER VIANNA</a>
                <a href="#" class="button fundamental" data-week="semana3" data-type="fundamental-grupo4" title="Escolas Fundamentais: GTL, EESA, Castelo, Washington" aria-label="Ver cardápio Fundamental para GTL, EESA, Castelo, Washington na 3ª Semana de Julho">GTL, EESA, CASTELO, WASHINGTON</a>
                <a href="#" class="button etec" data-week="semana3" data-type="etec" title="Cardápio ETEC - Paula Souza" aria-label="Ver cardápio da ETEC - Paula Souza para a 3ª Semana de Julho">ETEC - PAULA SOUZA</a>
            </div>

            <div class="button-column" id="semana4">
                <h2 class="column-title">4ª SEM - 21 a 25 JULHO</h2>
                <a href="#" class="button creche-m-verde" data-week="semana4" data-type="creche-m-verde" aria-label="Ver cardápio da Creche M. Verde para a 4ª Semana de Julho">CRECHE M.VERDE</a>
                <a href="#" class="button creches" data-week="semana4" data-type="creches" aria-label="Ver cardápio das Creches para a 4ª Semana de Julho">CRECHES</a>
                <a href="#" class="button fundamental" data-week="semana4" data-type="fundamental-grupo1" title="Escolas Fundamentais: Braga, Caic, Célia, Alzira, Padre" aria-label="Ver cardápio Fundamental para Braga, Caic, Célia, Alzira, Padre na 4ª Semana de Julho">BRAGA, CAIC, CÉLIA, ALZIRA, PADRE</a>
                <a href="#" class="button fundamental" data-week="semana4" data-type="fundamental-grupo2" title="Escolas Fundamentais: Anna, Anselmo, M. Ap., Faggioni, Braguetto" aria-label="Ver cardápio Fundamental para Anna, Anselmo, M. Ap., Faggioni, Braguetto na 4ª Semana de Julho">ANNA, ANSELMO, M.AP., FAGGIONI, BRAGUETTO</a>
                <a href="#" class="button fundamental" data-week="semana4" data-type="fundamental-grupo3" title="Escolas Fundamentais: A. Augusto, Portinari, M. Virgínia" aria-label="Ver cardápio Fundamental para A. Augusto, Portinari, M. Virgínia na 4ª Semana de Julho">A.AUGUSTO, PORTINARI, M.VIRGÍNIA</a>
                <a href="#" class="button fundamental" data-week="semana4" data-type="fundamental-esther" title="Escola Fundamental: Esther Vianna" aria-label="Ver cardápio Fundamental para Esther Vianna na 4ª Semana de Julho">ESTHER VIANNA</a>
                <a href="#" class="button fundamental" data-week="semana4" data-type="fundamental-grupo4" title="Escolas Fundamentais: GTL, EESA, Castelo, Washington" aria-label="Ver cardápio Fundamental para GTL, EESA, CASTELO, WASHINGTON na 4ª Semana de Julho">GTL, EESA, CASTELO, WASHINGTON</a>
                <a href="#" class="button etec" data-week="semana4" data-type="etec" title="Cardápio ETEC - Paula Souza" aria-label="Ver cardápio da ETEC - Paula Souza para a 4ª Semana de Julho">ETEC - PAULA SOUZA</a>
            </div>

            <div class="button-column" id="semana5">
                <h2 class="column-title">5ª SEM - 28 a 31 JULHO</h2>
                <a href="#" class="button creche-m-verde" data-week="semana5" data-type="creche-m-verde" aria-label="Ver cardápio da Creche M. Verde para a 5ª Semana de Julho">CRECHE M.VERDE</a>
                <a href="#" class="button creches" data-week="semana5" data-type="creches" aria-label="Ver cardápio das Creches para a 5ª Semana de Julho">CRECHES</a>
                <a href="#" class="button fundamental" data-week="semana5" data-type="fundamental-grupo1" title="Escolas Fundamentais: Braga, Caic, Célia, Alzira, Padre" aria-label="Ver cardápio Fundamental para Braga, Caic, Célia, Alzira, Padre na 5ª Semana de Julho">BRAGA, CAIC, CÉLIA, ALZIRA, PADRE</a>
                <a href="#" class="button fundamental" data-week="semana5" data-type="fundamental-grupo2" title="Escolas Fundamentais: Anna, Anselmo, M. Ap., Faggioni, Braguetto" aria-label="Ver cardápio Fundamental para Anna, Anselmo, M. Ap., Faggioni, Braguetto na 5ª Semana de Julho">ANNA, ANSELMO, M.AP., FAGGIONI, BRAGUETTO</a>
                <a href="#" class="button fundamental" data-week="semana5" data-type="fundamental-grupo3" title="Escolas Fundamentais: A. Augusto, Portinari, M. Virgínia" aria-label="Ver cardápio Fundamental para A. Augusto, Portinari, M. Virgínia na 5ª Semana de Julho">A.AUGUSTO, PORTINARI, M.VIRGÍNIA</a>
                <a href="#" class="button fundamental" data-week="semana5" data-type="fundamental-esther" title="Escola Fundamental: Esther Vianna" aria-label="Ver cardápio Fundamental para Esther Vianna na 5ª Semana de Julho">ESTHER VIANNA</a>
                <a href="#" class="button fundamental" data-week="semana5" data-type="fundamental-grupo4" title="Escolas Fundamentais: GTL, EESA, Castelo, Washington" aria-label="Ver cardápio Fundamental para GTL, EESA, CASTELO, WASHINGTON na 5ª Semana de Julho">GTL, EESA, CASTELO, WASHINGTON</a>
                <a href="#" class="button etec" data-week="semana5" data-type="etec" title="Cardápio ETEC - Paula Souza" aria-label="Ver cardápio da ETEC - Paula Souza para a 5ª Semana de Julho">ETEC - PAULA SOUZA</a>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Objeto para centralizar todos os links dos cardápios.
            // **ATENÇÃO:** ATUALIZE ESTES LINKS COM OS IDs DOS SEUS DOCUMENTOS REAIS!
            // A estrutura agora é ano -> mês -> semana -> tipo.
            const menuLinks = {
                "2025": {
                    "julho": { // Use o nome do mês em minúsculas
                        "semana1": {
                            "creche-m-verde": "https://docs.google.com/document/d/17bVULRuOV4NrNoVQ0u0saLrXF7bVAteJ/edit?usp=sharing&ouid=116154735950320601146&rtpof=true&sd=true",
                            "creches": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHES_JULHO_SEM1/edit",
                            "fundamental-grupo1": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO1_JULHO_SEM1/edit",
                            "fundamental-grupo2": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO2_JULHO_SEM1/edit",
                            "fundamental-grupo3": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO3_JULHO_SEM1/edit",
                            "fundamental-esther": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_ESTHER_JULHO_SEM1/edit",
                            "fundamental-grupo4": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO4_JULHO_SEM1/edit",
                            "etec": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_ETEC_JULHO_SEM1/edit"
                        },
                        "semana2": {
                            "creche-m-verde": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHE_M_VERDE_JULHO_SEM2/edit",
                            "creches": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHES_JULHO_SEM2/edit",
                            "fundamental-grupo1": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO1_JULHO_SEM2/edit",
                            "fundamental-grupo2": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO2_JULHO_SEM2/edit",
                            "fundamental-grupo3": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO3_JULHO_SEM2/edit",
                            "fundamental-esther": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_ESTHER_JULHO_SEM2/edit",
                            "fundamental-grupo4": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO4_JULHO_SEM2/edit",
                            "etec": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_ETEC_JULHO_SEM2/edit"
                        },
                        "semana3": {
                            "creche-m-verde": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHE_M_VERDE_JULHO_SEM3/edit",
                            "creches": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHES_JULHO_SEM3/edit",
                            "fundamental-grupo1": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO1_JULHO_SEM3/edit",
                            "fundamental-grupo2": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO2_JULHO_SEM3/edit",
                            "fundamental-grupo3": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO3_JULHO_SEM3/edit",
                            "fundamental-esther": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_ESTHER_JULHO_SEM3/edit",
                            "fundamental-grupo4": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO4_JULHO_SEM3/edit",
                            "etec": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_ETEC_JULHO_SEM3/edit"
                        },
                        "semana4": {
                            "creche-m-verde": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHE_M_VERDE_JULHO_SEM4/edit",
                            "creches": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHES_JULHO_SEM4/edit",
                            "fundamental-grupo1": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO1_JULHO_SEM4/edit",
                            "fundamental-grupo2": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO2_JULHO_SEM4/edit",
                            "fundamental-grupo3": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO3_JULHO_SEM4/edit",
                            "fundamental-esther": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_ESTHER_JULHO_SEM4/edit",
                            "fundamental-grupo4": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO4_JULHO_SEM4/edit",
                            "etec": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_ETEC_JULHO_SEM4/edit"
                        },
                        "semana5": {
                            "creche-m-verde": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHE_M_VERDE_JULHO_SEM5/edit",
                            "creches": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_CRECHES_JULHO_SEM5/edit",
                            "fundamental-grupo1": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO1_JULHO_SEM5/edit",
                            "fundamental-grupo2": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO2_JULHO_SEM5/edit",
                            "fundamental-grupo3": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO3_JULHO_SEM5/edit",
                            "fundamental-esther": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_ESTHER_JULHO_SEM5/edit",
                            "fundamental-grupo4": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_FUNDAMENTAL_GRUPO4_JULHO_SEM5/edit",
                            "etec": "https://docs.google.com/document/d/SUA_ID_DO_DOCUMENTO_ETEC_JULHO_SEM5/edit"
                        }
                    }
                    // Adicione outros meses aqui, como "agosto": {}, "setembro": {}, etc.
                }
                // Adicione outros anos aqui, como "2026": {}
            };

            const allButtons = document.querySelectorAll('.button');
            const legendItems = document.querySelectorAll('.legend-item');
            const showAllButton = document.querySelector('.show-all-button');
            const filterMessage = document.getElementById('filter-message');

            // --- Atribui os links dinamicamente e melhora feedback para links vazios ---
            function applyLinksToButtons() {
                const currentYear = new Date().getFullYear().toString();
                const currentMonthName = new Date().toLocaleString('pt-BR', { month: 'long' }).toLowerCase(); 

                allButtons.forEach(button => {
                    const week = button.dataset.week;
                    const type = button.dataset.type;
                    const originalLabel = button.getAttribute('aria-label');

                    let foundLink = null;
                    if (menuLinks[currentYear] && menuLinks[currentYear][currentMonthName] && menuLinks[currentYear][currentMonthName][week]) {
                        if (menuLinks[currentYear][currentMonthName][week][type]) {
                            foundLink = menuLinks[currentYear][currentMonthName][week][type];
                        } else {
                            if (type.startsWith('fundamental')) {
                                for (const key in menuLinks[currentYear][currentMonthName][week]) {
                                    if (key.startsWith(type)) {
                                        foundLink = menuLinks[currentYear][currentMonthName][week][key];
                                        break;
                                    }
                                }
                            }
                        }
                    }

                    if (foundLink && foundLink.trim() !== '' && foundLink.startsWith('http')) {
                        button.href = foundLink;
                        button.style.pointerEvents = '';
                        button.style.opacity = '1';
                        button.title = originalLabel;
                        button.textContent = button.dataset.originalText || button.textContent;
                        button.classList.remove('no-link');
                    } else {
                        if (!button.dataset.originalText) {
                            button.dataset.originalText = button.textContent;
                        }
                        button.href = "#";
                        button.style.pointerEvents = 'none';
                        button.style.opacity = '0.5';
                        button.title = "Cardápio não disponível ou em breve.";
                        button.textContent = "Em breve!";
                        button.classList.add('no-link');
                    }
                });
            }

            // --- Destaque e Reordenação da Semana Atual (com selo) ---
            function highlightCurrentWeek() {
                const today = new Date();
                const dayOfMonth = today.getDate();
                const month = today.getMonth() + 1;
                const year = today.getFullYear();

                document.querySelectorAll('.button-column').forEach(col => {
                    col.classList.remove('current-week');
                    const label = col.querySelector('.current-week-label');
                    if (label) label.remove();
                });

                if (month === 7 && year === 2025) { 
                    let currentWeekColumnId = '';

                    if (dayOfMonth >= 1 && dayOfMonth <= 4) {
                        currentWeekColumnId = 'semana1';
                    } else if (dayOfMonth >= 7 && dayOfMonth <= 11) {
                        currentWeekColumnId = 'semana2';
                    } else if (dayOfMonth >= 14 && dayOfMonth <= 18) {
                        currentWeekColumnId = 'semana3';
                    } else if (dayOfMonth >= 21 && dayOfMonth <= 25) {
                        currentWeekColumnId = 'semana4';
                    } else if (dayOfMonth >= 28 && dayOfMonth <= 31) {
                        currentWeekColumnId = 'semana5';
                    }

                    if (currentWeekColumnId) {
                        const currentWeekColumn = document.getElementById(currentWeekColumnId);
                        if (currentWeekColumn) {
                            currentWeekColumn.classList.add('current-week');

                            const label = document.createElement('span');
                            label.classList.add('current-week-label');
                            label.textContent = 'SEMANA ATUAL';
                            currentWeekColumn.prepend(label);

                            const columnsContainer = document.querySelector('.columns-container');
                            if (columnsContainer) {
                                columnsContainer.prepend(currentWeekColumn);
                            }
                        }
                    }
                }
            }

            // --- Funcionalidade de Filtragem ---
            function filterButtons(filterType, filterName = '') {
                allButtons.forEach(button => {
                    const hasValidLink = !(button.style.pointerEvents === 'none'); 

                    if (filterType === 'all') {
                        button.classList.remove('inactive-filtered');
                    } else if (button.dataset.type.startsWith(filterType)) {
                        button.classList.remove('inactive-filtered');
                    } else {
                        button.classList.add('inactive-filtered');
                    }
                });

                // Controla a opacidade da mensagem de filtro via JS para a transição
                if (filterType === 'all') {
                    filterMessage.style.opacity = '0'; // Esconde a mensagem
                    filterMessage.textContent = ''; // Limpa o texto após a transição
                } else {
                    filterMessage.textContent = `Filtrando por: ${filterName}`;
                    filterMessage.style.opacity = '1'; // Mostra a mensagem
                }
            }

            legendItems.forEach(item => {
                item.addEventListener('click', function() {
                    legendItems.forEach(li => li.classList.remove('active'));
                    this.classList.add('active');

                    const filterType = this.dataset.filter;
                    const filterName = this.textContent;
                    filterButtons(filterType, filterName);
                });
            });

            showAllButton.addEventListener('click', function() {
                legendItems.forEach(li => li.classList.remove('active'));
                filterButtons('all');
            });

            applyLinksToButtons();
            highlightCurrentWeek();
            // Inicializa a mensagem de filtro escondida
            filterMessage.style.opacity = '0';
            filterButtons('all'); 
        });
    </script>

</body>
</html>
